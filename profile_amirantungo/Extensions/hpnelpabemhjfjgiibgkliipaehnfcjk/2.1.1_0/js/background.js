!function(){const e=!1,t=chrome||browser,n=-1!=navigator.userAgent.indexOf("Chrome")?"chrome":"firefox",o=n.charAt(0).toUpperCase()+n.slice(1);let i={},a=null,s="chrome"===n?"chrome-extension":"firefox-add-on";var r;function c(e,n){let o={};o[e]=n,t.storage.sync.set(o,function(){})}function l(e){u("GA",e.t);let t=a||" ",n=s||"",o="Background Page: "+(s||""),r=i.name+" - "+s,c=Math.random().toString().replace("0.",""),l=window.location.hostname,d=window.location.host,g={v:"1",tid:"UA-57562361-4",cid:t,ds:n,z:c,t:"pageview",aip:"1",npa:"1",dl:window.location.href,dh:d,dp:l,dt:o,an:r,aid:l,av:i.version},p=Object.assign(g,e||{}),f=[];p.ev&&p.ev!==parseInt(p.ev)&&delete p.ev;for(let[e,t]of Object.entries(p))f.push(e+"="+t);let _=f.join("&");try{let e=new XMLHttpRequest;e.open("POST","https://www.google-analytics.com/collect",!0),e.send(_),u("Sent:",p),u("Sent:",_)}catch(e){u("Error sending report to Google Analytics.\n"+e)}}function u(){e&&console.log.apply(null,arguments)}r=function(){l({t:"pageview"})},t.management.getSelf(function(e){"normal"==(i=e).installType&&(i.installType="Production")}),t.storage.onChanged.addListener(function(e,t){u("Storage Change: ",e,t),l({t:"event",ec:o+" "+(i.installType||"development"),ea:"Storage Change",el:"Changes: "+(Object.keys(e).join(",")||"")})}),t.storage.sync.get(["uuid","extensionDetails"],function(e){u("Items",e),(a=e&&e.uuid?e.uuid:null)||(u("setting uuid",a=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),c("uuid",a)),e&&e.extensionDetails||(u("setting extensionDetails",i),c("extensionDetails",i)),"function"==typeof r&&r()}),t.runtime.onUpdateAvailable.addListener(function(e){u("Updating..",e),l({t:"event",ec:o+" "+(i.installType||"development"),ea:"Runtime Update available",el:"Run Update v"+(i.version||"0")}),t.runtime.reload()}),t.runtime.onInstalled.addListener(function(e){u("Thank you installing",e),l({t:"event",ec:o+" "+(i.installType||"development"),ea:"Runtime "+(e.reason||"install"),el:"Extension "+(e.reason||"install")+"ed v"+(i.version||"0")})}),t.runtime.requestUpdateCheck&&t.runtime.requestUpdateCheck(function(e){l({t:"event",ec:o+" "+(i.installType||"development"),ea:"Runtime Checking for Update",el:"Update Check: "+(e||"")})})}(),function(){const e=chrome||browser;var t={status:!0,skip_video_ad:"skip_after_countdown",close_ad_banner:!0},n="on",o={on:"#009933",off:"#ff3300"};function i(){n=!1===t.status?"off":"on",e.browserAction.setBadgeText({text:n}),e.browserAction.setBadgeBackgroundColor({color:o[n]})}function a(e){t.status=!1!==e.status,t.skip_video_ad=e.skip_video_ad||"skip_after_countdown",t.close_ad_banner=!1!==e.close_ad_banner}function s(){e.storage.sync.set({youtube_ad_skip_trigger_config:t},i)}e.storage.sync.get(["youtube_ad_skip_trigger_config"],function(e){e.youtube_ad_skip_trigger_config||s(),a(e.youtube_ad_skip_trigger_config),i()}),e.storage.onChanged.addListener(function(e,t){e&&e.youtube_ad_skip_trigger_config&&e.youtube_ad_skip_trigger_config.newValue&&(a(e.youtube_ad_skip_trigger_config.newValue),i())}),e.browserAction.onClicked.addListener(function(){t.status=!0!==t.status,s()})}();